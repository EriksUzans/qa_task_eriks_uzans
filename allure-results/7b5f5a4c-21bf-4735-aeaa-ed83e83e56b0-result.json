{"name": "test_header_language_switching", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to have text 'ru'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[class*='language-menu__label']\")", "trace": "page = <Page url='https://www.optibet.lv/ru'>\n\n    @allure.feature(\"Header Navigation\")\n    @allure.story(\"Language Switcher\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_header_language_switching(page):\n        home = HomePage(page)\n        print(\"STEP: HomePage initialized\")\n    \n        # 1. Open main page\n        home.navigate()\n        print(f\"STEP: Navigated to {page.url}\")\n    \n        # 2. Verify Logo and Menu (Casino, Sports, Live Casino)\n        home.verify_header_elements()\n        print(\"STEP: Header elements (Logo, Menu) verified\")\n    \n        # 3. Switch language (RU -> LV -> EN -> back to RU)\n        # Note: Assuming starting language might be auto-detected, we force a sequence.\n    \n        # Switch to RU\n        home.switch_language(\"RU\")\n        print(\"STEP: Switched language to RU\")\n>       home.verify_active_language(\"RU\")\n\ntests\\test_scenarios.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.home_page.HomePage object at 0x00000213052DEB40>, expected_lang = 'RU'\n\n    @allure.step(\"Verify active language is {expected_lang}\")\n    def verify_active_language(self, expected_lang):\n        # 4. Verify Active language is visually highlighted (text matches)\n>       expect(self.page.locator(self.active_lang_display)).to_have_text(expected_lang.lower(), ignore_case=True)\nE       AssertionError: Locator expected to have text 'ru'\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_have_text\" with timeout 5000ms\nE         - waiting for locator(\"[class*='language-menu__label']\")\n\npages\\home_page.py:46: AssertionError"}, "steps": [{"name": "Navigate to ''", "status": "passed", "steps": [{"name": "Handle Cookie Banner", "status": "passed", "start": 1763566503354, "stop": 1763566506359}], "parameters": [{"name": "path", "value": "''"}], "start": 1763566501777, "stop": 1763566506359}, {"name": "Verify Header Elements are visible", "status": "passed", "steps": [{"name": "Wait for element 'a[data-role='Casino']' to be visible", "status": "passed", "parameters": [{"name": "selector", "value": "'a[data-role='Casino']'"}], "start": 1763566506359, "stop": 1763566506382}], "start": 1763566506359, "stop": 1763566506435}, {"name": "Switch language to 'RU'", "status": "passed", "steps": [{"name": "Handle Cookie Banner", "status": "passed", "start": 1763566506435, "stop": 1763566509443}, {"name": "Wait for element '[class*='language-menu__label']' to be visible", "status": "passed", "parameters": [{"name": "selector", "value": "'[class*='language-menu__label']'"}], "start": 1763566509443, "stop": 1763566509457}], "parameters": [{"name": "language_code", "value": "'RU'"}], "start": 1763566506435, "stop": 1763566512744}, {"name": "Verify active language is 'RU'", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to have text 'ru'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[class*='language-menu__label']\")\n\n", "trace": "  File \"S:\\playwright\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"S:\\playwright\\pages\\home_page.py\", line 46, in verify_active_language\n    expect(self.page.locator(self.active_lang_display)).to_have_text(expected_lang.lower(), ignore_case=True)\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20011, in to_have_text\n    self._sync(\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 561, in to_have_text\n    await self._expect_impl(\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "parameters": [{"name": "expected_lang", "value": "'RU'"}], "start": 1763566512783, "stop": 1763566515485}], "attachments": [{"name": "stdout", "source": "50bc5117-d5bb-49bd-be51-78d7814493f6-attachment.txt", "type": "text/plain"}], "start": 1763566501777, "stop": 1763566515486, "uuid": "f2c7ea20-02d5-4b6b-82ee-572d1548ec9b", "historyId": "8a5ec20c8e427944db53c145e73c00f7", "testCaseId": "8a5ec20c8e427944db53c145e73c00f7", "fullName": "tests.test_scenarios#test_header_language_switching", "labels": [{"name": "severity", "value": "critical"}, {"name": "story", "value": "Language Switcher"}, {"name": "feature", "value": "Header Navigation"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_scenarios"}, {"name": "host", "value": "DESKTOP-4T6GP28"}, {"name": "thread", "value": "187312-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_scenarios"}], "titlePath": ["tests", "test_scenarios.py"]}