{"name": "test_promotions_filtering", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: None\nError: strict mode violation: locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first) resolved to 2 elements:\n    1) <a data-role=\"promotion\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview___XYGW2--scss promotion-preview_link___S7yVM--scss promotions-slider__slider-item___HSllX--scss\">…</a> aka get_by_role(\"link\", name=\"Jaunajiem klientiem Pirmais\").first\n    2) <a data-role=\"promotionTitleLink\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview__title-link___iFEFx--scss\">…</a> aka get_by_role(\"link\", name=\"Pirmais solis – bonuss!\").nth(1)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first)", "trace": "page = <Page url='https://www.optibet.lv/promotions'>\n\n    @allure.feature(\"Promotions\")\n    @allure.story(\"Filter Promotions\")\n    def test_promotions_filtering(page):\n        apply_stealth(page)\n    \n        promo_page = PromotionsPage(page)\n    \n        # 1. Navigate to Promotions page\n        promo_page.open()\n        print(\"1. Navigated to Promotions page\")\n    \n        # 2. Verify Promotion cards list is visible\n>       promo_page.verify_promotions_list()\n\ntests\\test_scenarios.py:68: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.promotions_page.PromotionsPage object at 0x000002C5C85C9EE0>\n\n    @allure.step(\"Verify promotion cards are displayed and valid\")\n    def verify_promotions_list(self):\n        # 2. Verify Promotion cards list is visible\n        try:\n            self.page.wait_for_selector(self.promo_cards, timeout=15000)\n        except:\n            pass # Assertion below handles failure\n    \n        count = self.page.locator(self.promo_cards).count()\n    \n        # 4. Verify List is not empty\n        assert count > 0, \"No promotion cards found!\"\n    \n        # 4. Verify Each promo card contains at least a title and a read more/join button\n        card = self.page.locator(self.promo_cards).first\n        expect(card).to_be_visible()\n        expect(card.locator(self.card_title)).to_be_visible()\n        # The link itself is usually the 'read more' action\n>       expect(card.locator(self.read_more_link).or_(card)).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: strict mode violation: locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first) resolved to 2 elements:\nE           1) <a data-role=\"promotion\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview___XYGW2--scss promotion-preview_link___S7yVM--scss promotions-slider__slider-item___HSllX--scss\">…</a> aka get_by_role(\"link\", name=\"Jaunajiem klientiem Pirmais\").first\nE           2) <a data-role=\"promotionTitleLink\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview__title-link___iFEFx--scss\">…</a> aka get_by_role(\"link\", name=\"Pirmais solis – bonuss!\").nth(1)\nE        \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first)\n\npages\\promotions_page.py:47: AssertionError"}, "steps": [{"name": "Navigate to Promotions Page", "status": "passed", "steps": [{"name": "Navigate to '/promotions'", "status": "passed", "steps": [{"name": "Handle Cookie Banner", "status": "passed", "start": 1763568006867, "stop": 1763568006993}], "parameters": [{"name": "path", "value": "'/promotions'"}], "start": 1763568005381, "stop": 1763568006993}], "start": 1763568005381, "stop": 1763568008324}, {"name": "Verify promotion cards are displayed and valid", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: None\nError: strict mode violation: locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first) resolved to 2 elements:\n    1) <a data-role=\"promotion\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview___XYGW2--scss promotion-preview_link___S7yVM--scss promotions-slider__slider-item___HSllX--scss\">…</a> aka get_by_role(\"link\", name=\"Jaunajiem klientiem Pirmais\").first\n    2) <a data-role=\"promotionTitleLink\" href=\"/promotion/kazino-starta-bonuss\" class=\"promotion-preview__title-link___iFEFx--scss\">…</a> aka get_by_role(\"link\", name=\"Pirmais solis – bonuss!\").nth(1)\n \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"a[data-role='promotion']\").first.locator(\"[data-role='promotionTitleLink']\").or_(locator(\"a[data-role='promotion']\").first)\n\n", "trace": "  File \"S:\\playwright\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"S:\\playwright\\pages\\promotions_page.py\", line 47, in verify_promotions_list\n    expect(card.locator(self.read_more_link).or_(card)).to_be_visible()\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20454, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"S:\\playwright\\venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n"}, "start": 1763568008324, "stop": 1763568008473}], "attachments": [{"name": "Failure: tests-test-scenarios-py-test-promotions-filtering", "source": "3aa32577-862c-4e35-a90d-c3b558f29ec7-attachment.png", "type": "image/png"}], "start": 1763568005372, "stop": 1763568008474, "uuid": "e869e051-f458-457f-b419-5023645c1824", "historyId": "cfd888ea12c415420fb92ad2ccc7d199", "testCaseId": "cfd888ea12c415420fb92ad2ccc7d199", "fullName": "tests.test_scenarios#test_promotions_filtering", "labels": [{"name": "feature", "value": "Promotions"}, {"name": "story", "value": "Filter Promotions"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_scenarios"}, {"name": "host", "value": "DESKTOP-4T6GP28"}, {"name": "thread", "value": "194644-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_scenarios"}], "titlePath": ["tests", "test_scenarios.py"]}